(function(){"use strict";var g;function k(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function m(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:k(a)}}function n(a){return(a=Number(a))?0<a?1:-1:a}var aa=Object.prototype.hasOwnProperty;function ba(a,b){if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1;d<arguments.length;d++){var e=arguments[d];if(null!=e)for(var f in e)aa.call(e,f)&&(c[f]=e[f])}return c}function ca(a){return Object.keys(a).map((function(b){return a[b]}))}function da(a,b){return this.substr(0<b?0|b:0,a.length)===a}var p=self;p.Math.sign||p.Object.defineProperty(p.Math,"sign",{enumerable:!1,configurable:!0,writable:!0,value:n});var q=self;q.Object.assign||q.Object.defineProperty(q.Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:ba});var r=self;r.Object.values||r.Object.defineProperty(r.Object,"values",{configurable:!0,writable:!0,value:ca});var t=self;t.String.prototype.startsWith||t.Object.defineProperty(t.String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:da});var u=Array.isArray;function ea(a,b){for(var c=[],d=0,e=0;e<a.length;e++){var f=a[e];b(f,e,a)?c.push(f):(d<e&&(a[d]=f),d++)}d<a.length&&(a.length=d);return c}function v(a){return 1==(null==a?void 0:a.nodeType)?a.tagName.toLowerCase()+(a.id?"#"+a.id:""):a}function fa(a,b,c,d){var e=void 0===c?"Assertion failed":c;if(b)return b;a&&-1==e.indexOf(a)&&(e+=a);for(var f=3,h=e.split("%s"),l=h.shift(),G=[l];h.length;){var H=arguments[f++],I=h.shift();l+=v(H)+I;G.push(H,I.trim())}f=Error(l);f.messageArray=ea(G,(function(ha){return""!==ha}));var J,K;null==(K=(J=self).__AMP_REPORT_ERROR)||K.call(J,f);throw f}function w(a,b,c,d,e){u(e)?a(c,e.concat([b])):a(c,(e||d)+": %s",b);return b}function x(a){var b;if(null==(b=Object.getOwnPropertyDescriptor(a,"message"))?0:b.writable)return a;var c=a.stack;b=Error(a.message);for(var d in a)b[d]=a[d];b.stack=c;return b}function y(a){for(var b=null,c="",d=m(arguments),e=d.next();!e.done;e=d.next())e=e.value,e instanceof Error&&!b?b=x(e):(c&&(c+=" "),c+=e);b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function ia(a){var b=y.apply(null,arguments);setTimeout((function(){var c,d;null==(d=(c=self).__AMP_REPORT_ERROR)||d.call(c,b);throw b}))}function ja(a){var b=y.apply(null,arguments);b.expected=!0;return b}function ka(a){var b=!1,c=null,d=a;return function(e){for(var f=[],h=0;h<arguments.length;++h)f[h-0]=arguments[h];b||(c=d.apply(self,f),b=!0,d=null);return c}}var la=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function z(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}}function A(a){a=(a||self).location;a=a.originalHash||a.hash;var b=Object.create(null);if(a)for(var c;c=la.exec(a);){var d=z(c[1],c[1]);c=c[2]?z(c[2].replace(/\+/g," "),c[2]):"";b[d]=c}return b}var B=self.AMP_CONFIG||{},C=("string"==typeof B.cdnProxyRegex?new RegExp(B.cdnProxyRegex):B.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function D(a){if(!self.document||!self.document.head||self.location&&C.test(self.location.origin))return null;var b=self.document.head.querySelector('meta[name="'+a+'"]');return b&&b.getAttribute("content")||null}var ma={thirdParty:B.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:B.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof B.thirdPartyFrameRegex?new RegExp(B.thirdPartyFrameRegex):B.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:B.cdnUrl||D("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:C,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:B.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:B.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:B.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:B.geoApiUrl||D("amp-geo-api")};var E="";function F(a){a=a||self;if(a.__AMP_MODE)var b=a.__AMP_MODE;else{var c=A(a)||A(a);c=["1","actions","amp","amp4ads","amp4email"].includes(c.development)||!!a.AMP_DEV_MODE;E||(E=(null==(b=a.AMP_CONFIG)?void 0:b.v)||"012111242025001");b=a.__AMP_MODE={localDev:!1,development:c,esm:!1,test:!1,rtvVersion:E}}return b}function na(){}function oa(a,b){return b.reduce((function(c,d){return c+"&s[]="+encodeURIComponent(String(v(d)))}),"https://log.amp.dev/?v=012111242025001&id="+encodeURIComponent(a))}function L(a,b,c){var d=this,e=c=void 0===c?"":c;this.win=a;this.L=b;this.M=pa(this);this.D=e;this.G=null;this.K=ka((function(){a.fetch(ma.cdn+"/rtv/012111242025001/log-messages.simple.json").then((function(f){return f.json()}),na).then((function(f){f&&(d.G=f)}))}));this.B=this.assert.bind(this)}function pa(a){var c,b=a.win;return null!=(c=b.console)&&c.log&&0!=parseInt(A(b).log,10)?a.L(parseInt(A(void 0).log,10),F().development):0}function M(a,b,c,d){if(c>a.M)return!1;var f,e=a.win.console,h={};c=null!=(f=(h[1]=e.error,h[3]=e.info,h[2]=e.warn,h)[c])?f:e.log;a=u(d[0])?N(a,d[0]):d;b="["+b+"]";"string"==typeof a[0]?a[0]=b+" "+a[0]:a.unshift(b);c.apply(e,a);return!0}g=L.prototype;g.fine=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];M(this,a,4,c)};g.info=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];M(this,a,3,c)};g.warn=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];M(this,a,2,c)};g.error=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];if(!M(this,a,1,c)){c=this.createError.apply(this,c);c.name=a||c.name;var e,f;null==(f=(e=self).__AMP_REPORT_ERROR)||f.call(e,c)}};g.expectedError=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];if(!M(this,a,1,c)){var e,f;null==(f=(e=self).__AMP_REPORT_ERROR)||f.call(e,this.createExpectedError.apply(this,c))}};g.createError=function(a){return O(this,y.apply(null,arguments))};g.createExpectedError=function(a){return O(this,ja.apply(null,arguments))};function O(a,b){b=x(b);a.D?b.message?-1==b.message.indexOf(a.D)&&(b.message+=a.D):b.message=a.D:0<=b.message.indexOf("​​​")&&(b.message=b.message.replace("​​​",""));return b}function N(a,b){var c=b.shift();F(a.win).development&&a.K();var d;return(null==(d=a.G)?0:d[c])?[a.G[c]].concat(b):["More info at "+oa(c,b)]}g.assert=function(a,b,c){return u(b)?this.assert.apply(this,[a].concat(N(this,b))):fa.apply(null,[this.D].concat(Array.prototype.slice.call(arguments)))};g.assertElement=function(a,b){return w(this.B,a,1==(null==a?void 0:a.nodeType),"Element expected",b)};g.assertString=function(a,b){return w(this.B,a,"string"==typeof a,"String expected",b)};g.assertNumber=function(a,b){return w(this.B,a,"number"==typeof a,"Number expected",b)};g.assertArray=function(a,b){return w(this.B,a,u(a),"Array expected",b)};g.assertBoolean=function(a,b){return w(this.B,a,!!a===a,"Boolean expected",b)};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var P=self.__AMP_LOG,Q=null;function R(a,b){if(!Q)throw Error("failed to call initLogConstructor");return new Q(self,a,b)}function S(){P.user||(P.user=qa());return P.user}function qa(){return R((function(a,b){return b||1<=a?4:2}),"​​​")}function ra(){P.dev||(P.dev=R((function(a){return 3<=a?4:2<=a?3:0})))}var T;function sa(a,b){var c=ta();a.addEventListener("message",(function(d){try{return b(d)}catch(h){var e,f;null==(f=(e=self).__AMP_REPORT_ERROR)||f.call(e,h);throw h}}),c?void 0:!1)}function ta(){if(void 0!==T)return T;T=!1;try{var a={get capture(){T=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return T}function U(a,b){try{return JSON.parse(a)}catch(c){return null==b||b(c),null}}function ua(a,b){sa(a,b)}function va(a){if(!wa(a))return null;var b=a.indexOf("{");return U(a.substr(b),(function(c){ia(Error("MESSAGING: Failed to parse message: "+a+"\n"+c.message))}))}function wa(a){return"string"==typeof a&&a.startsWith("amp-")&&-1!=a.indexOf("{")}function V(){this.h=null}g=V.prototype;g.add=function(a){var b=this;this.h||(this.h=[]);this.h.push(a);return function(){b.remove(a)}};g.remove=function(a){if(this.h){var b=this.h;a=b.indexOf(a);-1!=a&&b.splice(a,1)}};g.removeAll=function(){this.h&&(this.h.length=0)};g.fire=function(a){if(this.h)for(var b=m(this.h),c=b.next();!c.done;c=b.next())c=c.value,c(a)};g.getHandlerCount=function(){var a,b;return null!=(b=null==(a=this.h)?void 0:a.length)?b:0};
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */function W(a,b){this.A=a;this.O=F().rtvVersion||null;this.j=b||null;this.H=null;this.N=1;this.C=Object.create(null);xa(this)}g=W.prototype;g.getData=function(a,b,c){var d=a+"-result",e=this.N++,f=this.registerCallback(d,(function(l){l.messageId===e&&(f(),c(l.content))})),h={};h.payload=b;h.messageId=e;this.sendMessage(a,h)};g.makeRequest=function(a,b,c){b=this.registerCallback(b,c);this.sendMessage(a);return b};g.requestOnce=function(a,b,c){var d=this.registerCallback(b,(function(e){d();c(e)}));this.sendMessage(a);return d};g.registerCallback=function(a,b){a in this.C||(this.C[a]=new V);return this.C[a].add(b)};g.sendMessage=function(a,b){var c=this.H,d=b,e=this.O;d=void 0===d?{}:d;d.type=a;d.sentinel=c;a="amp-"+((void 0===e?null:e)||"")+JSON.stringify(d);if(this.j)c=this.j,1==c.postMessage.length?X(c,a):c.postMessage(a,"*");else for(var f=0,h=this.A;10>f&&h!=this.A.top;f++)c=h=h.parent,e=a,1==c.postMessage.length?X(c,e):c.postMessage(e,"*"),f++};function X(a,b){a.postMessage.call(a,b,{targetOrigin:"*",includeUserActivation:!0})}function xa(a){ua(a.A,(function(b){if(!a.j||b.source==a.j){var c=va(b.data);c&&c.sentinel==a.H&&(c.origin=b.origin,a.j||(a.j=b.source),b=c.type,b in a.C&&a.C[b].fire(c))}}))}g.setSentinel=function(a){this.H=a};function Y(){var a=window,b=this;this.A=a;this.I={};var c=U(this.A.name);this.P=c.type;this.o=new W(a,a.parent);this.o.setSentinel(c.sentinel);this.o.makeRequest("send-iframe-transport-events","iframe-transport-events",(function(d){d.events.forEach((function(e){try{var f=e.creativeId;(b.I[f]||(b.I[f]=new Z(b.A,b.o,f,b.P))).dispatch(e.message)}catch(h){S().error("iframe-transport-client","Exception in callback passed to onAnalyticsEvent",h)}}))}))}Y.prototype.getIframeMessagingClient=function(){return this.o};function Z(a,b,c,d){this.o=b;this.J={creativeId:c,vendor:d};this.F=null;c=a.onNewContextInstance&&"function"==typeof a.onNewContextInstance;var e="Must implement onNewContextInstance in "+a.location.href;S().assert(c,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);a.onNewContextInstance(this)}Z.prototype.onAnalyticsEvent=function(a){this.F=a};Z.prototype.dispatch=function(a){this.F&&this.F(a)};Z.prototype.sendResponseToCreative=function(a){this.o.sendMessage("iframe-transport-response",Object.assign({},{message:a},this.J))};(function(){Q=L;ra();S()})();(function(a){self.__AMP_REPORT_ERROR=a})((function(){}));try{new Y}catch(a){}})();//# sourceMappingURL=iframe-transport-client-v0.js.map